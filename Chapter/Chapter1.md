# Chapter1 최적화란

## 1.1 최적화는 소프트웨어 개발의 일부입니다
- 최적화도 코딩에 속한다.
  - 최적화는 전통적인 소프트웨어 개발 프로세스에서 **프로젝트 통합 및 테스트 단계**에서 수행된다.
- 최적화 목표
  - 올바른 프로그램을 개선하여 속도, 메모리 사용량, 전력 소비 등에 대한 요구를 충족하는 것
- 최적화는 다른 코딩 작업보다 과학적 사고방식을 더 많이 요구한다.

## 1.2 최적화는 효과적입니다
- 개발자는 코딩하며 내린 결정이 대규모 프로그램의 전반적인 성능에 어떤 영향을 미치는지 추정하기 어렵다.
  - 완성된 프로그램은 최적화할 여지가 많다.
- 숙련된 팀이 많은 시간을 들여 작성한 코드조차도 **30~100**%의 속도 향상을 이룰 수 있다
- 코드를 급하게 작성한 경우나 덜 숙련된 팀의 경우 **3~10**배의 속도 향상을 이룰 수 있다

## 1.3 최적화 해도 괜찮습니다
- 성능 문제가 발생하는 곳을 모르면서 최적화에 많은 시간을 들이는 것은 좋지 않다.
  - 프로그램의 성능을 향상하려고 모든 코드를 변경할 필요는 없다.
- 코딩하기 쉬운 알고리즘을 사용해 프로그램을 개발하고 실행속도가 느리면 최적화 하는게 좋다?
  - 처음부터 올바른 방법을 사용하고 하나의 알고리즘만 디버깅 하는 편이 낫다.

## 1.4 여기에 나노초, 저기에 나노초
- 데스크탑은 나노초 단위로 명령어를 전달한다.
  - 최적화가 별로 중요하지 않다고 생각 할 수 있다.
- 프로세서가 빠를수록 **낭비되는 명령이 더 많이 쌓이게 된다**.
- 메모리, 전력, 속도 제한이 있는 **소형 임베디드**와 **모바일 프로세서**에서는 **효율성**이 매우 중요하다.

## 1.5 C++ 코드 최적화 전략 요약
- C++은 자동화와 표현력부터 성능 향상을 위한 세밀한 제어까지 다양한 기능 구현 옵션을 제공한다.
- C++에는 함수 호출, 메모리 할당, 루프 등 최적화 대상이 되는 **유력 용의자**들이 있다.

### 1.5.1 더 좋은 컴파일러를 더 잘 사용하세요
- 컴파일러 선택시 중요하게 고려해야 할 사항
  - C++ 표준을 준수하는지?

### 1.5.2 더 좋은 알고리즘을 사용하세요
- 대부분의 최적화는 성능 향상의 폭이 아주 크지는 않다.
  - 노력을 많이 들여야 **30~100**%의 성능 향상을 이룰 수 있다.

### 1.5.3 더 좋은 라이브러리를 사용하세요
- 최적화 담당 개발자에게 `C++` 표준 라이브러리는 중요한 기술이다.
- [부스트 프로젝트](https://www.boost.org)나 [구글 코드](https://code.google.com/) 등에 공개된 라이브러리가 많이 있다.

### 1.5.4 메모리 할당과 복사 줄이기
- 메모리 관리자 호출, 버퍼 복사 함수 호출 횟수를 줄이면 코드 속도를 높일 수 있다.

### 1.5.5 계산 제거하기
- 할당과 함수 호출을 제외하면 단일 `C++`문의 비용은 일반적으로 중요하지 않다.
  - 동일한 코드를 백만번 실행하는것은 문제가 된다.
- 계산량을 줄이기 위해 먼저 프로그램의 어떤 부분이 자주 실행되는지 판별하는것이 중요하다.

### 1.5.6 더 좋은 자료구조 사용하기
- 항목의 삽입, 반복, 정렬, 검색을 위한 알고리즘이 자료구조에 의존하는 런타임 비용을 갖는다.
- 서로 다른 자료구조는 서로 다른 방법으로 메모리 관리자를 사용한다.
  - 자료구조에 따라 캐시 지역성이 좋을 수도 있고, 나쁠 수도 있기 때문이다.

### 1.5.7 동시성 증가시키기
- 최신 컴퓨터에는 명령을 실행하는 데 사용할 수 있는 프로세서 코어가 여러개 존재한다.
  - 작업을 여러 프로세서로 나눌 수 있다면 더 빨리 완료할 수 있다.
- 동시 실행과 함께, 데이터를 공유할 수 있도록 동시 스레드를 초기화하는 도구도 존재한다.

### 1.5.8 메모리 관리자 최적화하기
- `C++` 런타임 라이브러리의 일부인 메모리 관리자는 동적 메모리 할당을 관리하며 많은 `C++` 프로그램에서 자주 실행되는 코드이다.