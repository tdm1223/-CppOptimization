## 문자열 최적화
### 문자열이 문제인 이유
- 문자열에는 구현과 관계없이 비용이 높은 함수가 존재한다.
- 이 함수들은 메모리를 동적으로 할당하고, 표현식에서 값처럼 작동하며 내부에서 복사를 많이 한다.

1. 문자열은 메모리를 동적으로 할당한다.
    - 문자열은 필요한 문자열 길이보다 더 큰 공간을 할당한다.
    - 요청한 문자열 길이보다 큰 2의 거듭제곱값으로 할당을 하는식이다.
    - 동적으로 할당되기에 수동 해제 방법보다 편리하다.
    - 동적으로 할당되기에 최적화가 필요한 부분이 될 수 있다.
2. 문자열은 값이다.
    - 문자열은 **대입문**과 **표현식**에서 **값**처럼 작동한다.
    ```cpp
    std::string s1, s2;
    s1 = "HELLO";
    s2 = s1;
    s1[0] = 'T'; 
    ```
    - s1은 TELLO, s2는 HELLO가 된다.
3. 문자열을 복사를 많이 한다.
    - 문자열은 값처럼 작동하므로 문자열을 수정하더라도 다른 문자열은 수정되지 않아야 한다.
    - 하지만 문자열에는 내용을 수정하는 함수들이 있어서 문자열은 복사본을 가진 것처럼 작동해야 한다. `(COW : copy-on-write)`
    - c++11 표준에서는 COW 방법이 문제가 발생할 수 있어 허용하지 않는다.
    - C++11 표준 이후에는 **우측값 참조**와 **이동 문법** 덕분에 복사하는 비용이 많이 낮아졌다.
    - 문자열이 **우측값 표현식**이라면 포인터를 복사하기 때문에 비용이 낮으며 복사본을 만들지 않아도 된다.

### 문자열 최적화 1
1. 문자열의 내용을 변경하는 연산자로 임시 문자열 제거하기
2. 저장 공간을 예약해 재할당 줄이기
3. 문자열 인수의 복사 제거하기
4. 반복자로 포인터 역참조 제거하기
5. 반환된 문자열 값의 복사 제거하기
6. 문자열 대신 문자 배열 사용하기

### 문자열 최적화 2
1. 더 좋은 **알고리즘** 사용하기
2. 더 좋은 **컴파일러** 사용하기
3. 더 좋은 **문자열 라이브러리** 사용하기
4. 더 좋은 **할당자** 사용하기

### 문자열 변환 연산 제거하기
1. C 문자열에서 std::string으로 변환
2. 문자 인코딩 사이의 변환
